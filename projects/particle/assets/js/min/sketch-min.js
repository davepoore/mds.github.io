!function(e,t){"object"==typeof exports?module.exports=t(e,e.document):"function"==typeof define&&define.amd?define(function(){return t(e,e.document)}):e.Sketch=t(e,e.document)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e){return"[object Array]"==Object.prototype.toString.call(e)}function o(e){return"function"==typeof e}function r(e){return"number"==typeof e}function i(e){return"string"==typeof e}function u(e){return b[e]||String.fromCharCode(e)}function a(e,t,n){for(var o in t)!n&&o in e||(e[o]=t[o]);return e}function c(e,t){return function(){e.apply(t,arguments)}}function s(e){var t={};for(var n in e)"webkitMovementX"!==n&&"webkitMovementY"!==n&&(o(e[n])?t[n]=c(e[n],e):t[n]=e[n]);return t}function l(e){function t(t){o(t)&&t.apply(e,[].splice.call(arguments,1))}function n(e){for(_=0;_<te.length;_++)B=te[_],i(B)?S[(e?"add":"remove")+"EventListener"].call(S,B,N,!1):o(B)?N=B:S=B}function r(){I(A),A=R(r),K||(t(e.setup),K=o(e.setup)),U||(t(e.resize),U=o(e.resize)),e.running&&!q&&(e.dt=(z=+new Date)-e.now,e.millis+=e.dt,e.now=z,t(e.update),Z&&(e.retina&&(e.save(),e.scale(V,V)),e.autoclear&&e.clear()),t(e.draw),Z&&e.retina&&e.restore()),q=++q%e.interval}function c(){S=J?e.style:e.canvas,D=J?"px":"",Y=e.width,j=e.height,e.fullscreen&&(j=e.height=x.innerHeight,Y=e.width=x.innerWidth),e.retina&&Z&&V&&(S.style.height=j+"px",S.style.width=Y+"px",Y*=V,j*=V),S.height!==j&&(S.height=j+D),S.width!==Y&&(S.width=Y+D),K&&t(e.resize)}function l(t,n){return L=n.getBoundingClientRect(),t.x=t.pageX-L.left-(x.scrollX||x.pageXOffset),t.y=t.pageY-L.top-(x.scrollY||x.pageYOffset),e.retina&&Z&&V&&(t.x*=V,t.y*=V),t}function f(t,n){return l(t,e.element),n=n||{},n.ox=n.x||t.x,n.oy=n.y||t.y,n.x=t.x,n.y=t.y,n.dx=n.x-n.ox,n.dy=n.y-n.oy,n}function d(e){if(e.preventDefault(),G=s(e),G.originalEvent=e,G.touches)for(Q.length=G.touches.length,_=0;_<G.touches.length;_++)Q[_]=f(G.touches[_],Q[_]);else Q.length=0,Q[0]=f(G,ee);return a(ee,Q[0],!0),G}function g(n){for(n=d(n),M=(X=te.indexOf(W=n.type))-1,e.dragging=/down|start/.test(W)?!0:/up|end/.test(W)?!1:e.dragging;M;)i(te[M])?t(e[te[M--]],n):i(te[X])?t(e[te[X++]],n):M=0}function m(n){F=n.keyCode,H="keyup"==n.type,ne[F]=ne[u(F)]=!H,t(e[n.type],n)}function v(n){e.autopause&&("blur"==n.type?C:E)(),t(e[n.type],n)}function E(){e.now=+new Date,e.running=!0}function C(){e.running=!1}function k(){(e.running?C:E)()}function P(){Z&&e.clearRect(0,0,e.width,e.height)}function T(){O=e.element.parentNode,_=w.indexOf(e),O&&O.removeChild(e.element),~_&&w.splice(_,1),n(!1),C()}var A,N,S,O,L,_,D,z,B,G,W,F,H,M,X,Y,j,q=0,Q=[],U=!1,K=!1,V=x.devicePixelRatio||1,J=e.type==h,Z=e.type==p,ee={x:0,y:0,ox:0,oy:0,dx:0,dy:0},te=[e.eventTarget||e.element,g,"mousedown","touchstart",g,"mousemove","touchmove",g,"mouseup","touchend",g,"click",g,"mouseout",g,"mouseover",y,m,"keydown","keyup",x,v,"focus","blur",c,"resize"],ne={};for(F in b)ne[b[F]]=!1;return a(e,{touches:Q,mouse:ee,keys:ne,dragging:!1,running:!1,millis:0,now:NaN,dt:NaN,destroy:T,toggle:k,clear:P,start:E,stop:C}),w.push(e),e.autostart&&E(),n(!0),c(),r(),e}for(var f="E LN10 LN2 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos asin atan ceil cos exp floor log round sin sqrt tan atan2 pow max min".split(" "),d="__hasSketch",g=Math,p="canvas",m="webgl",h="dom",y=t,x=e,w=[],v={fullscreen:!0,autostart:!0,autoclear:!0,autopause:!0,container:y.body,interval:1,globals:!0,retina:!1,type:p},b={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"},E,C,k={CANVAS:p,WEB_GL:m,WEBGL:m,DOM:h,instances:w,install:function(e){if(!e[d]){for(var t=0;t<f.length;t++)e[f[t]]=g[f[t]];a(e,{TWO_PI:2*g.PI,HALF_PI:g.PI/2,QUARTER_PI:g.PI/4,random:function(e,t){return n(e)?e[~~(g.random()*e.length)]:(r(t)||(t=e||1,e=0),e+g.random()*(t-e))},lerp:function(e,t,n){return e+n*(t-e)},map:function(e,t,n,o,r){return(e-t)/(n-t)*(r-o)+o}}),e[d]=!0}},create:function(e){return e=a(e||{},v),e.globals&&k.install(self),E=e.element=e.element||y.createElement(e.type===h?"div":"canvas"),C=e.context=e.context||function(){switch(e.type){case p:return E.getContext("2d",e);case m:return E.getContext("webgl",e)||E.getContext("experimental-webgl",e);case h:return E.canvas=E}}(),(e.container||y.body).appendChild(E),k.augment(C,e)},augment:function(e,t){return t=a(t||{},v),t.element=e.canvas||e,t.element.className+=" sketch",a(e,t,!0),l(e)}},P=["ms","moz","webkit","o"],T=self,A=0,N="AnimationFrame",S="request"+N,O="cancel"+N,R=T[S],I=T[O],L=0;L<P.length&&!R;L++)R=T[P[L]+"Request"+N],I=T[P[L]+"Cancel"+N];return T[S]=R=R||function(e){var t=+new Date,n=g.max(0,16-(t-A)),o=setTimeout(function(){e(t+n)},n);return A=t+n,o},T[O]=I=I||function(e){clearTimeout(e)},k});